<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>handbook</title>
    <link rel="stylesheet" type="text/css" href="../../../../static/css/main.css">
</head>
<body>
<div class="nav">
    <div class="logo">
        
            <img src="../../../../idoc-logo.svg">
        
    </div>
<ul><li><a href="../../../../index.html">Git常用命令</a></li><li><a href="#"><span></span>前端</a><ul><li><a href="#"><span></span>Javascript</a><ul><li><a href="#"><span></span>RN</a><ul><li><a href="../../../../html/前端/Javascript/RN/React-native Android环境搭建.html">React-native Android环境搭建</a></li></ul></li><li><a href="../../../../html/前端/Javascript/思维导图.html">思维导图</a></li><li><a href="../../../../html/前端/Javascript/正则表达式.html">正则表达式</a></li><li><a href="../../../../html/前端/Javascript/轻量高效的开源JavaScript插件和库.html">轻量高效的开源JavaScript插件和库</a></li></ul></li></ul></li><li><a href="#"><span></span>服务端编程</a><ul><li><a href="#"><span></span>数据库</a><ul><li><a href="../../../../html/服务端编程/数据库/Redis.html">Redis</a></li></ul></li><li><a href="#"><span></span>系统服务</a><ul><li><a href="../../../../html/服务端编程/系统服务/docker.html">docker</a></li><li><a href="#"><span></span>shell</a><ul><li><a href="../../../../html/服务端编程/系统服务/shell/shell-regex.html">shell-regex</a></li><li><a href="../../../../html/服务端编程/系统服务/shell/Shell.html">Shell</a></li></ul></li><li><a href="../../../../html/服务端编程/系统服务/Nginx.html">Nginx</a></li></ul></li><li><a href="#"><span></span>Linux</a><ul></ul></li><li><a href="#"><span></span>数据库</a><ul><li><a href="#"><span></span>mysql</a><ul><li><a href="../../../../html/服务端编程/数据库/mysql/21-minutes-MySQL-basic-entry.html">21-minutes-MySQL-basic-entry</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/awesome-mysql.html">awesome-mysql</a></li><li><a href="#"><span></span>chapter1</a><ul><li><a href="../../../../html/服务端编程/数据库/mysql/chapter1/1.1.html">1.1</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter1/1.2.html">1.2</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter1/1.3.html">1.3</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter1/1.4.html">1.4</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter1/1.html">1</a></li></ul></li><li><a href="#"><span></span>chapter17</a><ul><li><a href="../../../../html/服务端编程/数据库/mysql/chapter17/17.1.html">17.1</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter17/17.2.html">17.2</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter17/17.3.html">17.3</a></li></ul></li><li><a href="#"><span></span>chapter2</a><ul><li><a href="../../../../html/服务端编程/数据库/mysql/chapter2/2.1.html">2.1</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter2/2.2.html">2.2</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter2/2.3.html">2.3</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter2/2.4.html">2.4</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter2/2.5.html">2.5</a></li></ul></li><li><a href="#"><span></span>chapter3</a><ul><li><a href="../../../../html/服务端编程/数据库/mysql/chapter3/3.1.html">3.1</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter3/3.2.html">3.2</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter3/3.3.html">3.3</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter3/3.4.html">3.4</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter3/3.5.html">3.5</a></li><li><a href="../../../../html/服务端编程/数据库/mysql/chapter3/3.html">3</a></li></ul></li><li><a href="../../../../html/服务端编程/数据库/mysql/README.html">README</a></li></ul></li><li><a href="../../../../html/服务端编程/数据库/Redis.html">Redis</a></li></ul></li></ul></li><li><a href="#"><span></span>工具快捷键</a><ul><li><a href="../../../../html/工具快捷键/Git常用命令.html">Git常用命令</a></li><li><a href="../../../../html/工具快捷键/vim.html">vim</a></li></ul></li><li><a href="#"><span></span>其他</a><ul><li><a href="../../../../html/其他/HTTP状态码.html">HTTP状态码</a></li><li><a href="../../../../html/其他/通过代理工具提高Github Clone速度.html">通过代理工具提高Github Clone速度</a></li></ul></li></ul></div>


<div class="forkgithub"><a target="_blank" href="https://github.com/poetries/handbook.git"></a></div>

<div class="warpper">

    <div class="page-toc">
        <ul><li><a href="#t0部署Seafile搭建自己的网盘">部署Seafile搭建自己的网盘</a><ul><li><a href="#t1安装依赖">安装依赖</a></li><li><a href="#t2下载">下载</a></li><li><a href="#t3安装">安装</a><ul><li><a href="#t4启动 Seafile">启动 Seafile</a></li><li><a href="#t5启动 Seahub">启动 Seahub</a></li></ul></li><li><a href="#t6备份">备份</a></li><li><a href="#t7恢复">恢复</a></li><li><a href="#t8服务管理">服务管理</a></li><li><a href="#t9开机启动">开机启动</a></li><li><a href="#t10参考资料">参考资料</a></li></ul></li></ul>
    </div>
    
    <div class="content markdown-body">
        <h1 id="t0&#x90E8;&#x7F72;Seafile&#x642D;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x76D8;">&#x90E8;&#x7F72;Seafile&#x642D;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x76D8; <a href="#t0&#x90E8;&#x7F72;Seafile&#x642D;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x76D8;"> # </a></h1>
<p>Seafile &#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x6587;&#x4EF6;&#x4E91;&#x5B58;&#x50A8;&#x5E73;&#x53F0;&#xFF0C;&#x89E3;&#x51B3;&#x6587;&#x4EF6;&#x96C6;&#x4E2D;&#x5B58;&#x50A8;&#x3001;&#x540C;&#x6B65;&#x3001;&#x591A;&#x5E73;&#x53F0;&#x8BBF;&#x95EE;&#x7684;&#x95EE;&#xFF0C;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x201C;&#x7FA4;&#x7EC4;&#x201D;&#xFF0C;&#x5728;&#x7FA4;&#x7EC4;&#x5185;&#x5171;&#x4EAB;&#x548C;&#x540C;&#x6B65;&#x6587;&#x4EF6;&#xFF0C;&#x65B9;&#x4FBF;&#x4E86;&#x56E2;&#x961F;&#x534F;&#x540C;&#x5DE5;&#x4F5C;&#x3002;</p>
<h2 id="t1&#x5B89;&#x88C5;&#x4F9D;&#x8D56;">&#x5B89;&#x88C5;&#x4F9D;&#x8D56; <a href="#t1&#x5B89;&#x88C5;&#x4F9D;&#x8D56;"> # </a></h2>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x5728; CentOS 7 &#x4E0B;</span>
<span class="hljs-comment"># (MariaDB &#x662F; MySQL &#x7684;&#x5206;&#x652F;)</span>
yum install mariadb-server

<span class="hljs-comment"># &#x5982;&#x679C;&#x4EE5;&#x6765;&#x6709;&#x95EE;&#x9898; </span>
<span class="hljs-comment"># &#x5C1D;&#x8BD5;&#x5728;&#x540E;&#x9762;&#x52A0;&#x4E0A;&#x53C2;&#x6570;  --skip-broken</span>
yum install python-setuptools python-imaging python-ldap MySQL-python python-memcached python-urllib3
</code></pre>
<p>yum &#x5B89;&#x88C5; mysqldb-python &#x540E;&#x9762;seafile&#x5B89;&#x88C5;&#x62A5;&#x9519;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7; python &#x7684;&#x5DE5;&#x5177;pip&#x6765;&#x5B89;&#x88C5;MySQL-python <code>pip install MySQL-python</code></p>
<h2 id="t2&#x4E0B;&#x8F7D;">&#x4E0B;&#x8F7D; <a href="#t2&#x4E0B;&#x8F7D;"> # </a></h2>
<p>&#x5728;&#x8FD9;&#x91CC;&#x4E0B;&#x8F7D;<a href="https://www.seafile.com/download/">seafile-server_6.0.7_x86-64.tar.gz</a>&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F60;&#x9700;&#x8981;&#x7684;&#x7248;&#x672C;</p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x7248;&#x672C;</span>
cat /proc/version
wget http://download-cn.seafile.com/seafile-server_6.0.7_x86-64.tar.gz

<span class="hljs-comment"># &#x89E3;&#x538B;</span>
tar -zxvf seafile-server_6.0.7_x86-64.tar.gz

<span class="hljs-comment"># &#x89E3;&#x538B;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;</span>
<span class="hljs-built_in">cd</span> seafile-server-*
</code></pre>
<h2 id="t3&#x5B89;&#x88C5;">&#x5B89;&#x88C5; <a href="#t3&#x5B89;&#x88C5;"> # </a></h2>
<p>&#x6211;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528;MySQL&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5148;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A; MySQL &#x7528;&#x6237; <code>seafile</code>&#x3002;</p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x767B;&#x5F55;MySQL&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x6237;</span>
mysql -uroot -p

<span class="hljs-comment"># &#x521B;&#x5EFA;&#x7528;&#x6237;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;</span>
mysql&gt; Create USER <span class="hljs-string">&apos;seafile&apos;</span>@<span class="hljs-string">&apos;%&apos;</span> IDENTIFIED BY <span class="hljs-string">&apos;123456&apos;</span>;
<span class="hljs-comment"># &#x6267;&#x884C;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x7ACB;&#x5373;&#x751F;&#x6548;</span>
mysql&gt; flush privileges;
</code></pre>
<p>&#x8FD0;&#x884C;<code>./setup-seafile-mysql.sh</code>&#x5B89;&#x88C5;&#x811A;&#x672C;&#x5E76;&#x56DE;&#x7B54;&#x9884;&#x8BBE;&#x95EE;&#x9898;</p>
<pre><code class="lang-bash">./setup-seafile-mysql.sh
  Checking python on this machine ...
  Checking python module: setuptools ... Done.
  Checking python module: python-imaging ... Done.
  Checking python module: python-mysqldb ... Done.

-----------------------------------------------------------------
This script will guide you to setup your seafile server using MySQL.
Make sure you have <span class="hljs-built_in">read</span> seafile server manual at

        https://github.com/haiwen/seafile/wiki

Press ENTER to <span class="hljs-built_in">continue</span>
-----------------------------------------------------------------

What is the name of the server? It will be displayed on the client.
3 - 15 letters or digits
[ server name ] &lt;&#x586B;&#x5199; seafile &#x670D;&#x52A1;&#x5668;&#x7684;&#x540D;&#x5B57;&gt;

What is the ip or domain of the server?
For example: www.mycompany.com, 192.168.1.101
[ This server<span class="hljs-string">&apos;s ip or domain ] &lt;seafile &#x670D;&#x52A1;&#x5668;&#x7684; IP &#x5730;&#x5740;&#x6216;&#x8005;&#x57DF;&#x540D;&gt;

Where do you want to put your seafile data?
Please use a volume with enough free space
[ default &quot;/home/www/jinpans/seafile-data&quot; ]

Which port do you want to use for the seafile fileserver?
[ default &quot;8082&quot; ]  [ seafile fileserver &#x4F7F;&#x7528;&#x7684; TCP &#x7AEF;&#x53E3; ]

-------------------------------------------------------
Please choose a way to initialize seafile databases:
-------------------------------------------------------

[1] Create new ccnet/seafile/seahub databases
    &#x4F60;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x6839;&#x5BC6;&#x7801;. &#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x4F1A;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x548C;&#x7528;&#x6237;&#x3002;
[2] Use existing ccnet/seafile/seahub databases
    ccnet/seafile/seahub &#x6570;&#x636E;&#x5E93;&#x5E94;&#x8BE5;&#x5DF2;&#x7ECF;&#x88AB;&#x4F60;&#xFF08;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x4EBA;&#xFF09;&#x63D0;&#x524D;&#x521B;&#x5EFA;&#x3002;
[ 1 or 2 ] &lt;&#x9009;&#x62E9;&#x4E00;&#x79CD;&#x521B;&#x5EFA; Seafile &#x6570;&#x636E;&#x5E93;&#x7684;&#x65B9;&#x5F0F;&gt;

What is the host of mysql server?
[ default &quot;localhost&quot; ]

What is the port of mysql server?
[ default &quot;3306&quot; ]

What is the password of the mysql root user?
[ root password ] &lt;&#x8F93;&#x5165;root&#x5BC6;&#x7801;&gt;

verifying password of user root ...  done

Enter the name for mysql user of seafile. It would be created if not exists.
[ default &quot;seafile&quot; ] &lt;&#x9ED8;&#x8BA4;seafile&#x7684;MySQL&#x7528;&#x6237;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&gt;

Enter the password for mysql user &quot;seafile&quot;:
[ password for seafile ] &lt;&#x8F93;&#x5165;seafile&#x5BC6;&#x7801;&gt;

verifying password of user seafile ...  done

Enter the database name for ccnet-server:
[ default &quot;ccnet-db&quot; ]

Enter the database name for seafile-server:
[ default &quot;seafile-db&quot; ]

Enter the database name for seahub:
[ default &quot;seahub-db&quot; ]

---------------------------------
This is your configuration
---------------------------------

    server name:            seafile &#x670D;&#x52A1;&#x5668;&#x7684;&#x540D;&#x5B57;
    server ip/domain:       192.168.1.101

    seafile data dir:       /home/www/jinpans/seafile-data
    fileserver port:        8082

    database:               create new
    ccnet database:         ccnet-db
    seafile database:       seafile-db
    seahub database:        seahub-db
    database user:          seafile

---------------------------------
Press ENTER to continue, or Ctrl-C to abort
---------------------------------

Generating ccnet configuration ...

done
Successly create configuration dir /home/www/jinpans/ccnet.
Generating seafile configuration ...

Done.
done
Generating seahub configuration ...

----------------------------------------
Now creating seahub database tables ...

----------------------------------------

creating seafile-server-latest symbolic link ...  done

-----------------------------------------------------------------
Your seafile server configuration has been finished successfully.
-----------------------------------------------------------------

run seafile server:     ./seafile.sh { start | stop | restart }
run seahub  server:     ./seahub.sh  { start &lt;port&gt; | stop | restart &lt;port&gt; }

-----------------------------------------------------------------
If you are behind a firewall, remember to allow input/output of these tcp ports:
-----------------------------------------------------------------

port of seafile fileserver:   8082
port of seahub:               8000

When problems occur, Refer to

        https://github.com/haiwen/seafile/wiki
</span></code></pre>
<p>&#x4E0A;&#x9762;&#x7B97;&#x662F;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x5728; seafile-server_6.0.7 &#x76EE;&#x5F55;&#x4E0B;&#x9762;&#xFF0C;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;</p>
<h3 id="t4&#x542F;&#x52A8; Seafile">&#x542F;&#x52A8; Seafile <a href="#t4&#x542F;&#x52A8; Seafile"> # </a></h3>
<pre><code class="lang-bash">./seafile.sh start <span class="hljs-comment"># &#x542F;&#x52A8; Seafile &#x670D;&#x52A1;</span>
</code></pre>
<h3 id="t5&#x542F;&#x52A8; Seahub">&#x542F;&#x52A8; Seahub <a href="#t5&#x542F;&#x52A8; Seahub"> # </a></h3>
<pre><code class="lang-bash">./seahub.sh start &lt;port&gt;  <span class="hljs-comment"># &#x542F;&#x52A8; Seahub &#x7F51;&#x7AD9; &#xFF08;&#x9ED8;&#x8BA4;&#x8FD0;&#x884C;&#x5728;8000&#x7AEF;&#x53E3;&#x4E0A;&#xFF09;</span>
<span class="hljs-comment"># &#x4F60;&#x7B2C;&#x4E00;&#x6B21;&#x542F;&#x52A8; seahub &#x65F6;&#xFF0C;seahub.sh &#x811A;&#x672C;&#x4F1A;&#x63D0;&#x793A;&#x4F60;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; seafile &#x7BA1;&#x7406;&#x5458;&#x5E10;&#x53F7;&#x3002;</span>

LC_ALL is not <span class="hljs-built_in">set</span> <span class="hljs-keyword">in</span> ENV, <span class="hljs-built_in">set</span> to en_US.UTF-8
Starting seahub at port 8000 ...

----------------------------------------
It<span class="hljs-string">&apos;s the first time you start the seafile server. Now let&apos;</span>s create the admin account
----------------------------------------

What is the email <span class="hljs-keyword">for</span> the admin account?
[ admin email ] &lt;&#x8FD9;&#x91CC;&#x8F93;&#x5165;&#x90AE;&#x7BB1;&#x5730;&#x5740;&gt;

What is the password <span class="hljs-keyword">for</span> the admin account?
[ admin password ] &lt;&#x8FD9;&#x91CC;&#x8F93;&#x5165;&#x5BC6;&#x7801;&gt;

Enter the password again:
[ admin password again ] &lt;&#x8FD9;&#x91CC;&#x786E;&#x8BA4;&#x8F93;&#x5165;&#x5BC6;&#x7801;&gt;
----------------------------------------
Successfully created seafile admin
----------------------------------------
Seahub is started
Done.
</code></pre>
<p>&#x7136;&#x540E;&#x4F60;&#x53EF;&#x4EE5;&#x6253;&#x5F00;&#x5B83;&#x4E86;&#xFF1A;</p>
<pre><code class="lang-bash">http://192.168.1.111:8000/
</code></pre>
<h2 id="t6&#x5907;&#x4EFD;">&#x5907;&#x4EFD; <a href="#t6&#x5907;&#x4EFD;"> # </a></h2>
<p>&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5047;&#x8BBE;&#x4F60;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;&#x5206;&#x522B;&#x4E3A; <code>ccnet-db</code> , <code>seafile-db</code> &#x548C; <code>seahubdb</code>&#xFF0C;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x5206;&#x522B;&#x5907;&#x4EFD;&#x8FD9;&#x4E09;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x540C;&#x65F6;&#x8981;&#x6CE8;&#x610F;&#x5907;&#x4EFD;&#x9700;&#x8981;&#x5148;&#x5EFA;&#x7ACB;&#x597D;&#x6587;&#x4EF6;&#x5939;&#x3002;</p>
<pre><code class="lang-bash">mysqldump -h localhost -uroot -p --opt ccnet-db &gt; ./backup/databases/ccnet-db.sql.`date +<span class="hljs-string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>`
mysqldump -h localhost -uroot -p --opt seafile-db &gt; ./backup/databases/seafile-db.sql.`date +<span class="hljs-string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>`
mysqldump -h localhost -uroot -p --opt seahub-db &gt; ./backup/databases/seahub-db.sql.`date +<span class="hljs-string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>`
</code></pre>
<p>&#x5907;&#x4EFD;&#x6587;&#x4EF6;</p>
<pre><code class="lang-bash">nohup cp -R ./seafile-data ./backup/data/seafile-data-`date +<span class="hljs-string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>` 2&gt;&amp;1 &amp;
nohup cp -R ./seahub-data ./backup/data/seahub-data-`date +<span class="hljs-string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>` 2&gt;&amp;1 &amp;

[1] 17294
</code></pre>
<h2 id="t7&#x6062;&#x590D;">&#x6062;&#x590D; <a href="#t7&#x6062;&#x590D;"> # </a></h2>
<pre><code class="lang-bash">mysql -uroot -p ccnet-db &lt; ccnet-db.sql.2017-11-29-11-36-06 
mysql -uroot -p seafile-db &lt; seafile-db.sql.2017-11-29-11-36-06 
mysql -uroot -p seahub-db &lt; seahub-db.sql.2017-11-29-11-36-06
</code></pre>
<h2 id="t8&#x670D;&#x52A1;&#x7BA1;&#x7406;">&#x670D;&#x52A1;&#x7BA1;&#x7406; <a href="#t8&#x670D;&#x52A1;&#x7BA1;&#x7406;"> # </a></h2>
<pre><code class="lang-bash">./seahub.sh stop       <span class="hljs-comment"># &#x505C;&#x6B62; Seafile &#x8FDB;&#x7A0B;</span>
./seafile.sh stop      <span class="hljs-comment"># &#x505C;&#x6B62; Seahub</span>

./seafile.sh start     <span class="hljs-comment"># &#x542F;&#x52A8; Seafile &#x670D;&#x52A1;</span>
./seahub.sh start 8001 <span class="hljs-comment"># &#x542F;&#x52A8; Seahub &#x7F51;&#x7AD9; &#xFF08;&#x8FD0;&#x884C;&#x5728;8001&#x7AEF;&#x53E3;&#x4E0A;&#xFF09;</span>

./seafile.sh restart   <span class="hljs-comment"># &#x505C;&#x6B62;&#x5F53;&#x524D;&#x7684; Seafile &#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F; Seafile</span>
./seahub.sh restart    <span class="hljs-comment"># &#x505C;&#x6B62;&#x5F53;&#x524D;&#x7684; Seahub &#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x5728; 8000 &#x7AEF;&#x53E3;&#x91CD;&#x65B0;&#x542F;&#x52A8; Seahub</span>
</code></pre>
<h2 id="t9&#x5F00;&#x673A;&#x542F;&#x52A8;">&#x5F00;&#x673A;&#x542F;&#x52A8; <a href="#t9&#x5F00;&#x673A;&#x542F;&#x52A8;"> # </a></h2>
<p>&#x521B;&#x5EFA; systemd &#x670D;&#x52A1;&#x6587;&#x4EF6;<code>seafile.service</code>&#xFF0C;&#x8BB0;&#x5F97;&#x5C06;&#x670D;&#x52A1;&#x6587;&#x4EF6;&#x4E2D;&#x7684;<code>${seafile_dir}</code>&#x66FF;&#x6362;&#x6210;&#x4F60;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;</p>
<pre><code class="lang-bash">sudo vim /etc/systemd/system/seafile.service
</code></pre>
<p>&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-bash">[Unit]
Description=Seafile
<span class="hljs-comment"># add mysql.service or postgresql.service depending on your database to the line below</span>
After=network.target

[Service]
Type=oneshot
ExecStart=<span class="hljs-variable">${seafile_dir}</span>/seafile-server-latest/seafile.sh start
ExecStop=<span class="hljs-variable">${seafile_dir}</span>/seafile-server-latest/seafile.sh stop
RemainAfterExit=yes
User=seafile
Group=seafile

[Install]
WantedBy=multi-user.target
</code></pre>
<p>&#x521B;&#x5EFA; systemd &#x670D;&#x52A1;&#x6587;&#x4EF6; <code>seahub.service</code>&#xFF0C;&#x8BB0;&#x5F97;&#x5C06;&#x670D;&#x52A1;&#x6587;&#x4EF6;&#x4E2D;&#x7684;<code>${seafile_dir}</code>&#x66FF;&#x6362;&#x6210;&#x4F60;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;</p>
<pre><code class="lang-bash">sudo vim /etc/systemd/system/seahub.service
</code></pre>
<p>&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-bash">[Unit]
Description=Seafile hub
After=network.target seafile.service

[Service]
<span class="hljs-comment"># change start to start-fastcgi if you want to run fastcgi</span>
ExecStart=<span class="hljs-variable">${seafile_dir}</span>/seafile-server-latest/seahub.sh start
ExecStop=<span class="hljs-variable">${seafile_dir}</span>/seafile-server-latest/seahub.sh stop
User=seafile
Group=seafile
Type=oneshot
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
</code></pre>
<p>[Install]
WantedBy=multi-user.target</p>
<pre><code class="lang-bash">sudo systemctl <span class="hljs-built_in">enable</span> seafile.service
sudo systemctl <span class="hljs-built_in">enable</span> seahub.service
</code></pre>
<h2 id="t10&#x53C2;&#x8003;&#x8D44;&#x6599;">&#x53C2;&#x8003;&#x8D44;&#x6599; <a href="#t10&#x53C2;&#x8003;&#x8D44;&#x6599;"> # </a></h2>
<ul>
<li><a href="https://www.gitbook.com/book/freeplant/seafile-manual-cn/details">Seafile&#x670D;&#x52A1;&#x5668;&#x624B;&#x518C;&#x4E2D;&#x6587;&#x7248;</a></li>
<li><a href="https://github.com/haiwen/seafile">Seafile for Github</a></li>
<li><a href="http://seafile.com/">Seafile&#x5B98;&#x7F51;</a></li>
</ul>

        <div class="copyright">Powered by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a>. Dependence <a href="https://nodejs.org">Node.js</a> run.</div>
    </div>
    
</div>


</body>
</html>
